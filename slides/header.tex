\usetheme{metropolis}
\setmonofont{Fantasque Sans Mono}
\makeatletter
\beamer@ignorenonframefalse
\makeatother
\usepackage{fontawesome5}
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{positioning, shapes.geometric, arrows.meta, decorations.pathreplacing}
\usepackage{graphicx}
\usepackage{hyperref}

\definecolor{commentgreen}{RGB}{2,112,10}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{lightcommentgreen2}{RGB}{120, 180, 120}
\definecolor{lightcommentgreen}{RGB}{175, 225, 175}
\definecolor{eminence}{RGB}{108,48,130}
\definecolor{weborange}{RGB}{255,117,24}
\definecolor{frenchplum}{RGB}{129,20,83}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{verdeacqua}{RGB}{130, 150, 240}

\lstset {
    language=C++,
    %frame=tb,
    frame=single,  % Frame around code
    frameround=tttt, % tttt means all four corners are rounded
    rulecolor=\color{gray!50}, % Frame color, 50% gray
    backgroundcolor=\color{gray!8}, % Background color, 20% gray
    tabsize=4,
    showstringspaces=false,
    %numbers=left,
    %upquote=true,
    commentstyle=\color{commentgreen},
    keywordstyle=\color{eminence},
    stringstyle=\color{red},
    basicstyle=\small\ttfamily, % basic font setting
    emph={int,char,double,float,unsigned,void,bool,accessor,host_accessor,buffer,queue,handler,id,range,device,group,h_item,event},
    emphstyle={\color{blue}},
    % escapechar=\&,
    % keyword highlighting
    classoffset=1, % starting new class
    otherkeywords={>,<,.,;,-,!,=,~,&},
    morekeywords={>,<,.,;,-,!,=,~,&},
    keywordstyle=\color{weborange},
    classoffset=0,
    morecomment=[l][\color{mymauve}]{\#},
    lineskip=-1pt,     % Adjust this to decrease vertical space
    xleftmargin=0.07\linewidth,         % Left margin
    xrightmargin=0.07\linewidth  
}

\lstdefinelanguage{bash}{
    morekeywords={echo, ls, cd, pwd, export, unset, exit}, % Add your common Bash commands here
    morecomment=[l]{\#},  % Define how comments are marked
    morestring=[b]",     % Define string delimiters
    morestring=[b]'      % Define char delimiters
}

\lstdefinestyle{bashstyle}{
    language=bash,
    frame=single,  % Frame around code
    frameround=tttt, % tttt means all four corners are rounded
    rulecolor=\color{gray!50}, % Frame color, 50% gray
    backgroundcolor=\color{white!8}, % Background color, 20% gray gray!8
    xleftmargin=0.06\linewidth,         % Left margin
    xrightmargin=0.06\linewidth  
}

\lstdefinelanguage{CMake}{
    keywords={cmake_minimum_required, 
              project, 
              add_executable, 
              add_library,
              include,
              add_subdirectory,
              set,
              message,
              if, 
              elseif,
              else,
              endif,
              target_link_libraries,
              target_include_directories,
              enable_language,
              find_package,
              list,
              enable_testing,
              target_sources,
              add_test,
              foreach,
              endforeach,
              while,
              endwhile,
              break,
              continue,
              unset},
    morecomment=[l]{\#}, 
    morestring=[b]",
    morestring=[b]',
}


\lstdefinestyle{cmakestyle}{
  language=CMake,
  frame=single,  % Frame around code
  frameround=tttt, % tttt means all four corners are rounded
  rulecolor=\color{gray!50}, % Frame color, 50% gray
  backgroundcolor=\color{gray!8}, % Background color, 20% gray
  basicstyle=\ttfamily\footnotesize,
  keywordstyle=\color{verdeacqua},
  commentstyle=\color{commentgreen},
  stringstyle=\color{red},
  showstringspaces=false,
  tabsize=4,
  classoffset=1,                      % Starting a new class for additional keywords
  morekeywords={VERSION,
                LANGUAGES,
                REQUIRED,
                QUIET,
                STATIC, 
                SHARED,
                MODULE,
                STATUS,
                NAME, 
                COMMAND,
                WORKING_DIRECTORY,
                NOT,
                MATCHES,
                CACHE,
                OBJECT, 
                APPEND,
                EXCLUDE_FROM_ALL,
                FORCE, 
                PARENT_SCOPE,
                FATAL_ERROR,
                PRIVATE,
                PUBLIC, 
                INTERFACE,
                TARGETS,
                PROPERTIES},  % List of additional keywords
  keywordstyle=\color{red},           % Style for additional keywords
  classoffset=0,                      % Resetting classoffset to zero
  xleftmargin=0.06\linewidth,         % Left margin
  xrightmargin=0.06\linewidth  
  % ... other CMake-specific settings ...
}



\usepackage[edges]{forest}
\definecolor{folderbg}{RGB}{124,166,198}
\definecolor{folderborder}{RGB}{110,144,169}
\definecolor{filebg}{RGB}{200,200,200}
\definecolor{fileborder}{RGB}{150,150,150}
\definecolor{execbg}{RGB}{255,223,186}
\definecolor{execborder}{RGB}{255,140,0}
\newlength\Size
\setlength\Size{4pt}
\tikzset{%
  folder/.pic={%
    \filldraw [draw=folderborder, top color=folderbg!50, bottom color=folderbg] (-1.05*\Size,0.2\Size+5pt) rectangle ++(.75*\Size,-0.2\Size-5pt);
    \filldraw [draw=folderborder, top color=folderbg!50, bottom color=folderbg] (-1.15*\Size,-\Size) rectangle (1.15*\Size,\Size);
  },
  file/.pic={%
    \filldraw [draw=folderborder, top color=folderbg!5, bottom color=folderbg!10] (-\Size,.4*\Size+5pt) coordinate (a) |- (\Size,-1.2*\Size) coordinate (b) -- ++(0,1.6*\Size) coordinate (c) -- ++(-5pt,5pt) coordinate (d) -- cycle (d) |- (c) ;
  },
  executable/.pic={
    \filldraw [draw=execborder, top color=execbg!5, bottom color=execbg!10]
      (-\Size,.4*\Size+5pt) coordinate (a) |- (\Size,-1.2*\Size) coordinate (b)
      -- ++(0,1.6*\Size) coordinate (c) -- ++(-5pt,5pt) coordinate (d) -- cycle (d) |- (c);
  },
}
\forestset{%
  declare autowrapped toks={pic me}{},
  pic dir tree/.style={%
    for tree={%
      folder,
      font=\ttfamily,
      grow'=0,
    },
    before typesetting nodes={%
      for tree={%
        edge label+/.option={pic me},
      },
    },
  },
  pic me set/.code n args=2{%
    \forestset{%
      #1/.style={%
        inner xsep=2\Size,
        pic me={pic {#2}},
      }
    }
  },
  pic me set={directory}{folder},
  pic me set={file}{file},
  pic me set={executable}{executable},
}